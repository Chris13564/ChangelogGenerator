apply plugin: "java"

repositories {
	jcenter()
	maven {
		url = "https://jitpack.io"
	}
}

dependencies {
	compile "com.github.jhy:jsoup:master-SNAPSHOT"
	compile "com.github.google:gson:gson-parent-2.8.2"
	compile files("../../TRLUtils/TRLUtils/out/production/classes")
	compile files("../CurseAPI/out/production/classes")
	compile files("../CurseAPI-Minecraft/out/production/classes")
	//compile "com.github.TheRandomLabs:CurseAPI-Minecraft:master-SNAPSHOT"
}

task sourcesJar(type: Jar, dependsOn: classes) {
	classifier = "sources"
	from sourceSets.main.allSource
}

artifacts {
	archives sourcesJar
}

jar {
	manifest {
		attributes "Main-Class": "com.therandomlabs.changeloggenerator.ChangelogGenerator"
	}

	from {
		configurations.compile.collect {
			it.isDirectory() ? it : zipTree(it)
		}
	}
}
