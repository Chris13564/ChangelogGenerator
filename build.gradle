apply plugin: "java"
apply plugin: "idea"

repositories {
	jcenter()
	maven {
		url = "https://jitpack.io"
	}
}

dependencies {
	compile "com.github.TheRandomLabs:CurseAPI-Minecraft:master-SNAPSHOT"
}

task sourcesJar(type: Jar, dependsOn: classes) {
	classifier = "sources"
	from sourceSets.main.allSource
}

artifacts {
	archives sourcesJar
}

jar {
	manifest {
		attributes "Main-Class": "com.therandomlabs.changeloggenerator.ChangelogGenerator"
	}

	from {
		configurations.compile.collect {
			it.isDirectory() ? it : zipTree(it)
		}
	}
}
